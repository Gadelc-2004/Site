<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>Meta Game</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#E5E7EB]">
	<header class="sticky top-0 bg-[#0B1F3A] text-white p-2 shadow-md z-50">
	  <div class="flex items-center justify-between">
		<!-- Logo e t√≠tulo -->
		<div class="flex items-center gap-3">
		  <img src="../img/logo.png" alt="Logo Meta Game" class="h-20 w-auto object-contain" />
		  <div>
			<h1 class="text-2xl font-bold">META GAME STORE</h1>
			<p class="text-sm">Magic - Yu-Gi-Oh - Pok√©mon</p>
		  </div>
		</div>

		<!-- Container para pesquisa e carrinho -->
		<div class="flex-1 flex justify-center">
		  <div class="relative w-full max-w-md mx-4">
			<input type="text" id="campoPesquisa" placeholder="Pesquisar cartas..." 
				   class="bg-gray-100 text-gray-800 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-yellow-500 w-full">
			<svg class="absolute left-3 top-2.5 h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
			  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
			</svg>
		  </div>
		</div>
		  
		<!-- Bot√£o do carrinho -->
		<div class="relative">
		  <button id="btnCarrinho" class="bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded font-bold shadow-md">
			üõí Carrinho
			<span id="contadorCarrinho" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full px-2">0</span>
		  </button>
		</div>
	  </div>
	</header>

  <main class="p-5 space-y-0 max-w-5xl mx-auto">
    <section id="filtro" class="mb-6 flex justify-center gap-4"></section>
	<section id="catalogo" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ml-11"></section>
  </main>

  <section class="p-6 bg-white shadow-md rounded-xl max-w-4xl mx-auto mt-12 text-black">
    <h2 class="text-2xl font-bold mb-4 text-[#0B1F3A]">üóìÔ∏è Mural de Eventos</h2>
    <ul class="space-y-2 list-disc list-inside">
      <li><strong>S√°bado - 15/06:</strong> Torneio Modern - Magic: The Gathering √†s 15h</li>
      <li><strong>Ter√ßa - 18/06:</strong> Encontro Casual de Yu-Gi-Oh √†s 19h</li>
      <li><strong>Quinta - 20/06:</strong> Pok√©mon TCG Mini Cup √†s 20h</li>
    </ul>
  </section>

  <section class="p-6 bg-white shadow-md rounded-xl max-w-4xl mx-auto mt-12 text-black">
    <h2 class="text-2xl font-bold mb-4 text-[#0B1F3A]">üìç Hor√°rios de Funcionamento</h2>
    <ul class="space-y-2 list-disc list-inside">
      <li>Ter√ßa e Quinta: 19h √†s 22h</li>
      <li>S√°bado: 14h √†s 19h</li>
    </ul>
  </section>

  <section class="p-6 bg-white shadow-md rounded-xl max-w-4xl mx-auto mt-6 text-black">
  <h2 class="text-2xl font-bold mb-4 text-[#0B1F3A]">üìç Localiza√ß√£o</h2>
  <p class="mb-4">
    Rua dos Planeswalkers, 123 ‚Äì Centro<br>
    Cidade dos Duelistas ‚Äì SP<br>
    CEP: 01234-567
  </p>
  <a href="https://www.google.com/maps" target="_blank" rel="noopener"
     class="inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-bold shadow-md">
    Localiza√ß√£o no Mapa
  </a>
  </section>


	<footer class="bg-[#0B1F3A] text-white text-center p-4 mt-10">
	  <p>¬© 2025 Meta Game Store. Todos os direitos reservados.</p>
	</footer>

  <!-- Modal do Carrinho -->
	<div id="modalCarrinho" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
	  <div class="bg-white p-6 rounded-lg w-full max-w-lg max-h-[80vh] overflow-y-auto shadow-lg">
		<div class="flex justify-between items-center mb-4">
		  <h2 class="text-2xl font-bold text-[#0B1F3A]">üõçÔ∏è Seu Carrinho</h2>
		  <button onclick="fecharCarrinho()" class="text-red-600 text-xl font-bold">√ó</button>
		</div>
		<ul id="itensCarrinho" class="space-y-4 text-black"></ul>
		<div class="mt-4 font-bold text-right text-lg text-[#0B1F3A]">
		  Total: R$ <span id="totalCarrinho">0,00</span>
		</div>
      <div class="mt-6 grid grid-cols-3 gap-2">
        <button id="btnFinalizar" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-bold">
          Finalizar Compra
        </button>
        <button id="btnWhatsapp" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-bold">
          Enviar por WhatsApp
        </button>
        <button id="btnPix" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded font-bold">
          Copiar PIX
        </button>
      </div>
      <p class="text-sm text-red-700 bg-red-100 border border-red-300 p-3 rounded mt-4 mb-4">
        ‚ö†Ô∏è <strong>Aten√ß√£o:</strong> a loja <strong>n√£o realiza entregas</strong>. As compras feitas no site s√£o <strong>exclusivamente para retirada no local</strong>.
      </p>
      <p class="text-sm text-gray-600 mt-4">
      ‚ö†Ô∏è Ao clicar em <strong>"Finalizar Compra"</strong>, uma mensagem com o resumo do carrinho ser√° copiada automaticamente para sua √°rea de transfer√™ncia.<br>
      üïí Caso deseje notificar a loja sobre seu pedido, lembre-se: se o comprovante de pagamento n√£o for enviado, os produtos ficar√£o reservados por apenas <strong>3 dias</strong>.
      </p>
      <p class="text-sm text-gray-600 mt-2">
        üí≥ Se a forma de pagamento escolhida for <strong>PIX</strong>, clique em <strong>‚ÄúCopiar‚ÄØPIX‚Äù</strong>, efetue o pagamento e envie o comprovante pelo WhatsApp. Sem o comprovante, a reserva tamb√©m vale por <strong>3‚ÄØdias</strong>.
      </p>
	  </div>
	</div>

  <!-- Bot√µes flutuantes de redes sociais -->
  <div class="fixed bottom-4 right-4 flex flex-col gap-2 z-50">
    <a href="https://wa.me/5599999999999" target="_blank" class="bg-green-600 hover:bg-green-700 rounded-full p-3 shadow-lg">
      <img src="../img/whatsapp.png" alt="WhatsApp" class="h-6 w-6" />
    </a>
    <a href="https://www.instagram.com/metagamestore43" target="_blank" class="bg-pink-600 hover:bg-pink-700 rounded-full p-3 shadow-lg">
      <img src="../img/instagram.png" alt="Instagram" class="h-6 w-6" />
    </a>
  </div>

  <!-- Bot√µes flutuantes de filtros √† esquerda -->
	<div class="fixed top-[140px] left-4 flex flex-col gap-3 z-50">
	  <button class="btn-filtro-lateral flex items-center gap-2 bg-gray-600 hover:bg-gray-800 text-white px-4 py-2 rounded shadow-md" data-jogo="todos">
		<span class="font-medium">Todos</span>
	  </button>
	  <button class="btn-filtro-lateral flex items-center gap-2 bg-[#0074E4] hover:bg-blue-800 text-white px-4 py-2 rounded shadow-md" data-jogo="Magic">
		<img src="../img/magic_logo.png" alt="Magic" class="h-6 w-6 object-contain">
		<span class="font-medium">Magic</span>
	  </button>
	  <button class="btn-filtro-lateral flex items-center gap-2 bg-red-600 hover:bg-red-800 text-white px-4 py-2 rounded shadow-md" data-jogo="Yu-Gi-Oh">
		<img src="../img/yugi_logo.png" alt="Yu-Gi-Oh" class="h-6 w-6 object-contain">
		<span class="font-medium">Yu-Gi-Oh</span>
	  </button>
	  <button class="btn-filtro-lateral flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-white px-4 py-2 rounded shadow-md" data-jogo="Pok√©mon">
		<img src="../img/pokemon_logo.png" alt="Pok√©mon" class="h-6 w-6 object-contain">
		<span class="font-medium">Pok√©mon</span>
	  </button>
	</div>

  <script>
    const produtos = [
      // Magic cartas
      {
        nome: "L√¢mina da F√™nix",
        categoria: "Carta",
        preco: 12.99,
        quantidade: 15,
        imagem: "https://cards.scryfall.io/normal/front/4/6/462e887d-6b91-4b31-9487-2780ffe8943f.jpg?1673481630",
        nicho: "Magic"
      },
      {
        nome: "Feiti√ßo da Tempestade",
        categoria: "Carta",
        preco: 8.50,
        quantidade: 20,
        imagem: "https://cards.scryfall.io/normal/front/8/b/8bf3929c-957f-4ea2-a27d-7d53979844af.jpg?1717013737",
        nicho: "Magic"
      },
      {
        nome: "Conjurador das Profundezas",
        categoria: "Carta",
        preco: 14.00,
        quantidade: 9,
        imagem: "https://cards.scryfall.io/normal/front/b/e/be667162-cd28-403c-b65f-dadc5459e757.jpg?1562622151",
        nicho: "Magic"
      },
      {
        nome: "Sentinela da Luz",
        categoria: "Carta",
        preco: 10.75,
        quantidade: 11,
        imagem: "https://cards.scryfall.io/normal/front/e/e/ee0565f5-ebdb-43f9-bbb4-0485b1968937.jpg?1726286826",
        nicho: "Magic"
      },
      {
        nome: "Guerreiro da Alvorada",
        categoria: "Carta",
        preco: 9.30,
        quantidade: 14,
        imagem: "https://cards.scryfall.io/normal/front/1/8/18c0b3b3-bb62-42c5-9869-386af0540a9b.jpg?1576384496",
        nicho: "Magic"
      },
      {
        nome: "Mago das Sombras",
        categoria: "Carta",
        preco: 13.25,
        quantidade: 13,
        imagem: "https://cards.scryfall.io/normal/front/c/d/cd94f624-9b35-4468-829f-106366f61c1a.jpg?1673147716",
        nicho: "Magic"
      },
      {
        nome: "Arqueiro das Trevas",
        categoria: "Carta",
        preco: 11.60,
        quantidade: 16,
        imagem: "https://cards.scryfall.io/normal/front/8/c/8c72ac67-e4fb-49a1-b1e5-cd2e414bec28.jpg?1562802060",
        nicho: "Magic"
      },
      {
        nome: "Guardi√£o da Floresta",
        categoria: "Carta",
        preco: 14.90,
        quantidade: 10,
        imagem: "https://cards.scryfall.io/normal/front/1/9/19e96521-b4ce-4a36-a887-200e05ccc804.jpg?1712356303",
        nicho: "Magic"
      },
      {
        nome: "Drag√£o de Gelo",
        categoria: "Carta",
        preco: 18.00,
        quantidade: 8,
        imagem: "https://cards.scryfall.io/normal/front/a/a/aa192912-c9ee-403f-8a46-a338c9edb4b9.jpg?1748706551",
        nicho: "Magic"
      },
      {
        nome: "Assassino Sombrio",
        categoria: "Carta",
        preco: 15.50,
        quantidade: 7,
        imagem: "https://cards.scryfall.io/normal/front/4/d/4d197866-7633-493c-80dd-ec3a09165934.jpg?1721424262",
        nicho: "Magic"
      },

      // Magic boosters e box
      {
        nome: "Booster Tempestade Arcana",
        categoria: "Booster",
        preco: 25.00,
        quantidade: 20,
        imagem: "https://m.media-amazon.com/images/I/81BLy4ZGwIL._AC_SL1500_.jpg",
        nicho: "Magic"
      },
      {
        nome: "Booster For√ßa dos Drag√µes",
        categoria: "Booster",
        preco: 28.50,
        quantidade: 18,
        imagem: "https://m.media-amazon.com/images/I/81FFzv1TAwL._AC_SL1500_.jpg",
        nicho: "Magic"
      },
      {
        nome: "Booster Box Ascens√£o dos Her√≥is",
        categoria: "Booster Box",
        preco: 220.00,
        quantidade: 8,
        imagem: "https://rihappy.vtexassets.com/arquivos/ids/6513858-800-auto?v=638622037947930000&width=800&height=auto&aspect=true",
        nicho: "Magic"
      },

      // Pok√©mon cartas
      {
        nome: "Pikachu Rel√¢mpago",
        categoria: "Carta",
        preco: 12.00,
        quantidade: 18,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_232.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Charizard Flamejante",
        categoria: "Carta",
        preco: 20.00,
        quantidade: 10,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_209.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Blastoise Aqu√°tico",
        categoria: "Carta",
        preco: 18.50,
        quantidade: 12,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_208.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Venusaur Selvagem",
        categoria: "Carta",
        preco: 17.00,
        quantidade: 14,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_150.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Gardevoir Graciosa",
        categoria: "Carta",
        preco: 13.50,
        quantidade: 12,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_44.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Lucario Lend√°rio",
        categoria: "Carta",
        preco: 16.00,
        quantidade: 13,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_74.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Infernape Furioso",
        categoria: "Carta",
        preco: 15.00,
        quantidade: 15,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_111.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Torterra Resistente",
        categoria: "Carta",
        preco: 14.00,
        quantidade: 16,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_51.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Staraptor Veloz",
        categoria: "Carta",
        preco: 11.50,
        quantidade: 18,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_145.png",
        nicho: "Pok√©mon"
      },
      {
        nome: "Empoleon Rei",
        categoria: "Carta",
        preco: 13.00,
        quantidade: 15,
        imagem: "https://www.pokemon.com/static-assets/content-assets/cms2/img/cards/web/SV10/SV10_EN_122.png",
        nicho: "Pok√©mon"
      },

      {
        nome: "Booster F√∫ria Elemental",
        categoria: "Booster",
        preco: 22.00,
        quantidade: 20,
        imagem: "https://www.suika.com.br/14570-large_default/booster-unitario-com-6-cards-pokemon-colecao-especial-escarlate-e-violeta-151-copag.jpg",
        nicho: "Pok√©mon"
      },
      {
        nome: "Booster Guardi√µes da Natureza",
        categoria: "Booster",
        preco: 24.50,
        quantidade: 18,
        imagem: "https://www.ringo.no/wp-content/uploads/2025/05/POK10617_1-880x880.jpg",
        nicho: "Pok√©mon"
      },
      {
        nome: "Booster Box Lendas Eternas",
        categoria: "Booster Box",
        preco: 200.00,
        quantidade: 8,
        imagem: "https://a-static.mlcdn.com.br/1500x1500/booster-box-pokemon-tcg-scarlet-violet-mascara-do-crepusculo/nocnoceua/aub0cyb4xyzl/d1ca084c3b8229d9712589601bea78ae.jpeg",
        nicho: "Pok√©mon"
      },

      // Yu-Gi-Oh cartas
      {
        nome: "Drag√£o Negro de Olhos Vermelhos",
        categoria: "Carta",
        preco: 19.99,
        quantidade: 15,
        imagem: "https://repositorio.sbrauble.com/arquivos/in/yugioh_bkp/cd/1203/684c805b1c745-p52c9-k173w-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Mago das Trevas",
        categoria: "Carta",
        preco: 14.50,
        quantidade: 10,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7f178558e-l9vtk-iwo5x-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Cavaleiro do Caos",
        categoria: "Carta",
        preco: 17.00,
        quantidade: 12,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7fa912e07-lf3mg-mwuz5-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Feiticeiro das Sombras",
        categoria: "Carta",
        preco: 16.75,
        quantidade: 14,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7fa4862a3-mhdng-kfw2n-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Drag√£o de Luz",
        categoria: "Carta",
        preco: 18.00,
        quantidade: 11,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7fa71e9ba-no95x-8nkrv-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Guerreiro do Tempo",
        categoria: "Carta",
        preco: 12.50,
        quantidade: 17,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7feb28e9b-ole8z-n6s7d-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Sombra Venenosa",
        categoria: "Carta",
        preco: 11.00,
        quantidade: 13,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7f69cdf8c-yk0r6-lv9gx-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Ca√ßador da Noite",
        categoria: "Carta",
        preco: 10.75,
        quantidade: 15,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c7eff2ed96-1q3pi-d7t32-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Guardi√£o dos Elementos",
        categoria: "Carta",
        preco: 13.20,
        quantidade: 14,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c803313f46-iyrh2-3muga-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Mestre das Correntes",
        categoria: "Carta",
        preco: 14.80,
        quantidade: 12,
        imagem: "https://repositorio.sbrauble.com//arquivos/in/yugioh_bkp/cd/1203/684c80502956c-inx6l-etudf-bd0268e744c966554eb541b390c9fd76.jpg",
        nicho: "Yu-Gi-Oh"
      },

      {
        nome: "Booster Ra√ßa de Monstros",
        categoria: "Booster",
        preco: 30.00,
        quantidade: 20,
        imagem: "https://down-br.img.susercontent.com/file/br-11134207-7qukw-lfvdfmpq6cee1e",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Booster Guerra das Dimens√µes",
        categoria: "Booster",
        preco: 28.00,
        quantidade: 18,
        imagem: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8Scwa5Ubbv_FN6vnAHEmQl3aa7Sd4UeZf1Q&s",
        nicho: "Yu-Gi-Oh"
      },
      {
        nome: "Booster Box Reinos Antigos",
        categoria: "Booster Box",
        preco: 250.00,
        quantidade: 8,
        imagem: "https://cdn11.bigcommerce.com/s-b4ioc4fed9/images/stencil/500x659/products/461186/1844128/KON166888B__81783.1727089483.jpg?c=1",
        nicho: "Yu-Gi-Oh"
      }
    ];

    let carrinho = [];

    function exibirProdutos(filtroJogo = "todos") {
      const catalogoDiv = document.getElementById("catalogo");
      catalogoDiv.innerHTML = "";

      let produtosFiltrados = produtos;
      if(filtroJogo !== "todos") {
        produtosFiltrados = produtos.filter(p => p.nicho === filtroJogo);
      }

      produtosFiltrados.forEach(prod => {
        const card = document.createElement("div");
        card.className = "cursor-default bg-white rounded-xl shadow-md overflow-hidden mb-6 hover:shadow-lg transition-shadow duration-300";

        // Determina o tipo de produto
        let tipoProduto = '';
        let corBadge = '';
        
        if(prod.categoria.includes('Booster Box')) {
          tipoProduto = 'Booster Box';
          corBadge = 'bg-blue-200 text-blue-900';
        } else if(prod.categoria.includes('Booster')) {
          tipoProduto = 'Booster';
          corBadge = 'bg-blue-100 text-blue-800';
        } else {
          tipoProduto = 'Carta Avulsa';
          corBadge = 'bg-green-100 text-green-800';
        }

        card.innerHTML = `
          <img src="${prod.imagem}" alt="${prod.nome}" class="w-full h-40 object-contain bg-gray-100" />
          <div class="p-4">
            <h4 class="text-lg font-semibold">${prod.nome}</h4>
            <p class="text-sm text-[#374151] mb-1">R$ ${parseFloat(prod.preco).toFixed(2).replace('.', ',')}</p>
            <div class="flex justify-between items-center mb-2">
              <p class="text-sm text-gray-600">Dispon√≠vel: ${prod.quantidade}</p>
              <span class="text-xs px-2 py-1 rounded-full ${corBadge}">
                ${tipoProduto}
              </span>
            </div>
            <button class="w-full bg-[#0B1F3A] text-white px-3 py-2 rounded hover:bg-[#132e53]" 
              onclick="adicionarAoCarrinho(${produtoParaString(prod)})">
              Adicionar ao carrinho
            </button>
          </div>
        `;

        catalogoDiv.appendChild(card);
      });
    }

    // Configurar filtros laterais
    const botoesLaterais = document.querySelectorAll('.btn-filtro-lateral');

    botoesLaterais.forEach(btn => {
      btn.addEventListener("click", () => {
        const jogo = btn.dataset.jogo;
        exibirProdutos(jogo);
        // Remove todas as sele√ß√µes primeiro
        botoesLaterais.forEach(b => {
          b.classList.remove("ring-4", "ring-[#0B1F3A]", "scale-105", "bg-[#0B1F3A]");
        });
        // Aplica o estilo ao bot√£o selecionado
        btn.classList.add("ring-4", "ring-[#0B1F3A]", "scale-105", "bg-[#0B1F3A]");
      });
    });

    // Fun√ß√µes do carrinho
    function adicionarAoCarrinho(produto) {
      // Verifica se o produto j√° est√° no carrinho
      const existente = carrinho.find(p => p.nome === produto.nome);

      if (existente) {
        if (existente.quantidade < produto.quantidade) {
          existente.quantidade += 1;
        } else {
          alert("Quantidade m√°xima dispon√≠vel atingida.");
          return;
        }
      } else {
        // Adiciona o produto ao carrinho com quantidade inicial 1
        carrinho.push({
          nome: produto.nome,
          categoria: produto.categoria,
          preco: produto.preco,
          quantidade: 1,
          nicho: produto.nicho,
          imagem: produto.imagem
        });
      }

      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const contador = document.getElementById("contadorCarrinho");
      contador.textContent = carrinho.reduce((soma, item) => soma + item.quantidade, 0);
    }

    // Fun√ß√£o para abrir o carrinho
    function abrirCarrinho() {
      const modal = document.getElementById("modalCarrinho");
      const lista = document.getElementById("itensCarrinho");
      const totalSpan = document.getElementById("totalCarrinho");

      lista.innerHTML = "";
      let total = 0;

      carrinho.forEach(item => {
        total += item.quantidade * parseFloat(item.preco);
        const produtoOriginal = produtos.find(p => p.nome === item.nome);
        const maxDisponivel = produtoOriginal ? produtoOriginal.quantidade : 0;

        const li = document.createElement("li");
        li.className = "border-b pb-4";
        li.innerHTML = `
          <div class="flex justify-between items-start">
            <div class="flex-1">
              <p class="font-semibold">${item.nome}</p>
              <p class="text-sm text-gray-600">R$ ${item.preco.toFixed(2).replace('.', ',')} cada</p>
            </div>
            <div class="flex items-center gap-2">
              <button onclick="alterarQuantidade('${item.nome.replace(/'/g, "\\'")}', -1)" 
                      class="bg-gray-200 hover:bg-gray-300 w-8 h-8 rounded flex items-center justify-center">
                -
              </button>
              <span class="w-8 text-center">${item.quantidade}</span>
              <button onclick="alterarQuantidade('${item.nome.replace(/'/g, "\\'")}', 1)" 
                      ${item.quantidade >= maxDisponivel ? 'disabled class="bg-gray-200 text-gray-400 w-8 h-8 rounded flex items-center justify-center cursor-not-allowed"' : 'class="bg-gray-200 hover:bg-gray-300 w-8 h-8 rounded flex items-center justify-center"'}>
                +
              </button>
              <button onclick="removerDoCarrinho('${item.nome.replace(/'/g, "\\'")}')" 
                      class="text-red-500 hover:text-red-700 ml-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
              </button>
            </div>
          </div>
          <p class="text-xs text-gray-500 mt-1">${maxDisponivel} dispon√≠veis em estoque</p>
        `;
        lista.appendChild(li);
      });

      totalSpan.textContent = total.toFixed(2).replace('.', ',');
      modal.classList.remove("hidden");
    }

    // Certifique-se que o evento de clique est√° configurado corretamente
    document.getElementById("btnCarrinho").addEventListener("click", abrirCarrinho);

    // Fun√ß√£o para fechar o carrinho
    function fecharCarrinho() {
      document.getElementById("modalCarrinho").classList.add("hidden");
    }

    function alterarQuantidade(nomeProduto, alteracao) {
      const item = carrinho.find(item => item.nome === nomeProduto);
      if (!item) return;

      const produtoOriginal = produtos.find(p => p.nome === nomeProduto);
      const maxDisponivel = produtoOriginal ? produtoOriginal.quantidade : 0;

      const novaQuantidade = item.quantidade + alteracao;
      
      if (novaQuantidade < 1) {
        removerDoCarrinho(nomeProduto);
        return;
      }

      if (novaQuantidade > maxDisponivel) {
        alert(`N√£o h√° estoque suficiente. M√°ximo dispon√≠vel: ${maxDisponivel}`);
        return;
      }

      item.quantidade = novaQuantidade;
      atualizarCarrinho();
      abrirCarrinho();
    }

    // Fun√ß√£o para remover itens do carrinho
    function removerDoCarrinho(nomeProduto) {
      carrinho = carrinho.filter(item => item.nome !== nomeProduto);
      atualizarCarrinho();
      abrirCarrinho(); // Atualiza a visualiza√ß√£o
    }
    
    function produtoParaString(produto) {
      return `{
        nome: '${produto.nome.replace(/'/g, "\\'")}',
        categoria: '${produto.categoria.replace(/'/g, "\\'")}',
        preco: ${produto.preco},
        quantidade: ${produto.quantidade},
        nicho: '${produto.nicho.replace(/'/g, "\\'")}',
        imagem: '${produto.imagem.replace(/'/g, "\\'")}'
      }`;
    }
    
    document.getElementById('campoPesquisa').addEventListener('input', function() {
      const termoPesquisa = this.value.toLowerCase();
      const produtosFiltrados = produtos.filter(produto => 
        produto.nome.toLowerCase().includes(termoPesquisa) ||
        produto.categoria.toLowerCase().includes(termoPesquisa) ||
        produto.nicho.toLowerCase().includes(termoPesquisa)
      );
      exibirProdutosFiltrados(produtosFiltrados);
    });

    function exibirProdutosFiltrados(produtosFiltrados) {
      const catalogoDiv = document.getElementById("catalogo");
      catalogoDiv.innerHTML = "";

      produtosFiltrados.forEach(prod => {
        const card = document.createElement("div");
        card.className = "cursor-default bg-white rounded-xl shadow-md overflow-hidden mb-6 hover:shadow-lg transition-shadow duration-300";

        // Determina o tipo de produto
        let tipoProduto = '';
        let corBadge = '';
        
        if(prod.categoria.includes('Booster Box')) {
          tipoProduto = 'Booster Box';
          corBadge = 'bg-blue-200 text-blue-900';
        } else if(prod.categoria.includes('Booster')) {
          tipoProduto = 'Booster';
          corBadge = 'bg-blue-100 text-blue-800';
        } else {
          tipoProduto = 'Carta Avulsa';
          corBadge = 'bg-green-100 text-green-800';
        }

        card.innerHTML = `
          <img src="${prod.imagem}" alt="${prod.nome}" class="w-full h-40 object-contain bg-gray-100" />
          <div class="p-4">
            <h4 class="text-lg font-semibold">${prod.nome}</h4>
            <p class="text-sm text-[#374151] mb-1">R$ ${parseFloat(prod.preco).toFixed(2).replace('.', ',')}</p>
            <div class="flex justify-between items-center mb-2">
              <p class="text-sm text-gray-600">Dispon√≠vel: ${prod.quantidade}</p>
              <span class="text-xs px-2 py-1 rounded-full ${corBadge}">
                ${tipoProduto}
              </span>
            </div>
            <button class="w-full bg-[#0B1F3A] text-white px-3 py-2 rounded hover:bg-[#132e53]" 
              onclick="adicionarAoCarrinho(${produtoParaString(prod)})">
              Adicionar ao carrinho
            </button>
          </div>
        `;

        catalogoDiv.appendChild(card);
      });
    }

    function gerarResumoTexto() {
      if (carrinho.length === 0) return null;

      let texto = "Resumo da minha compra na Meta Game Store:\n\n";
      let total = 0;

      carrinho.forEach(item => {
        const subtotal = item.quantidade * item.preco;
        total += subtotal;
        texto += `‚Ä¢ ${item.nome} - ${item.quantidade}x R$ ${item.preco.toFixed(2).replace('.', ',')} = R$ ${subtotal.toFixed(2).replace('.', ',')}\n`;
      });

      texto += `\nTotal: R$ ${total.toFixed(2).replace('.', ',')}`;
      return texto;
    }

    document.getElementById("btnFinalizar").addEventListener("click", () => {
      const resumo = gerarResumoTexto();
      if (resumo) {
        navigator.clipboard.writeText(resumo)
          .then(() => alert("Resumo copiado para a √°rea de transfer√™ncia!"))
          .catch(() => alert("Erro ao copiar o resumo."));
      } else {
        alert("Seu carrinho est√° vazio.");
      }
    });

    document.getElementById("btnWhatsapp").addEventListener("click", () => {
      const texto = gerarResumoTexto();
      if (!texto) {
        alert("Seu carrinho est√° vazio.");
        return;
      }

      const textoCodificado = encodeURIComponent(texto);
      const linkWhatsapp = `https://wa.me/?text=${textoCodificado}`;
      window.open(linkWhatsapp, '_blank');
    });

    const PIX_KEY = 'Chave pix copiada'

    document.getElementById('btnPix').addEventListener('click', () => {
      navigator.clipboard.writeText(PIX_KEY)
        .then(() => alert('Chave‚ÄØPIX copiada!'))
        .catch(() => alert('Erro ao copiar a chave‚ÄØPIX.'))
    })

    // Exibir todos os produtos inicialmente
    exibirProdutos();
  </script>
</body>
</html>
